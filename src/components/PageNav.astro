---
import { contentIdToViewTransitionName } from "~/util/contentIdToViewTransitionName";

import ThemeToggle from "./ThemeToggle.astro";

interface Props {
  active?: string;
  items: { label: string; value: string }[];
}

const { active, items } = Astro.props as Props;
---

<nav>
  {
    items.map((item) => (
      <h2
        style={{
          "view-transition-name": contentIdToViewTransitionName(item.value),
        }}
      >
        <a
          href={"/" + item.value}
          class:list={[{ inactive: active !== item.label }]}
        >
          {item.label}
        </a>
      </h2>
    ))
  }
  <ThemeToggle />
</nav>

<style>
  nav {
    display: flex;
    gap: 8px;
    align-items: center;
  }
  a {
    transition-duration: var(--delay-m);
    text-decoration-color: var(--color-purple-500);
    color: inherit;
  }
  a:visited {
    color: inherit;
  }
  .inactive {
    text-decoration-color: transparent;
    &:hover {
      text-decoration-color: var(--color-purple-500);
    }
  }
  h2 {
    font-weight: bold;
    font-size: var(--text-l);
  }
</style>
