---
import dayjs from "dayjs";

import ThemeToggle from "~/components/ThemeToggle.astro";

import ButtonLink from "../components/ButtonLink.astro";
import Mascot from "../components/Mascot.astro";
import NavTitle from "../components/NavTitle.astro";
import Layout from "../layouts/Layout.astro";
import { getBlogEntries } from "../util/getBlogEntries";

let blogEntries = await getBlogEntries();

blogEntries = blogEntries.sort(
  (a, b) => dayjs(b.data.date).unix() - dayjs(a.data.date).unix()
);

let latest = {
  url: `/${blogEntries[0].collection}/${blogEntries[0].id}`,
  title: blogEntries[0].data.title,
};
---

<Layout title="Enoch - Links" hideNav={true}>
  <div class="container">
    <NavTitle />
    <ButtonLink href={latest.url}>Latest Blog Post</ButtonLink>
    <ButtonLink href="/blog">Blog</ButtonLink>
    <ButtonLink href="https://www.youtube.com/channel/UC8WzolokXeJKN2d4dMrjPlA">
      YouTube
    </ButtonLink>
    <ButtonLink href="https://www.instagram.com/uhhuhhuny/">
      Instagram
    </ButtonLink>
    <Mascot />
    <ThemeToggle />
  </div>
</Layout>

<style>
  .container {
    display: flex;
    flex-direction: column;
    gap: 12px;
    align-items: center;
  }
</style>
